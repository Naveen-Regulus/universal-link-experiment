<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Universal Link Test</title>

  <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        
        /* New marketplace testing styles */
        .marketplace-section {
            margin-bottom: 40px;
            padding: 25px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #007bff;
        }
        .marketplace-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .marketplace-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .marketplace-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .language-indicator {
            font-size: 12px;
            color: #666;
            font-style: italic;
            margin-bottom: 15px;
        }
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .store-button {
            flex: 1;
            min-width: 120px;
            padding: 12px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }
        .android-button {
            background-color: #34a853;
            color: white;
        }
        .android-button:hover {
            background-color: #2d8f47;
            transform: translateY(-1px);
        }
        .ios-button {
            background-color: #007aff;
            color: white;
        }
        .ios-button:hover {
            background-color: #0056cc;
            transform: translateY(-1px);
        }
        .url-info {
            font-size: 11px;
            color: #666;
            margin-top: 8px;
            font-family: monospace;
            word-break: break-all;
        }
        
        /* Collapsible section styles */
        .collapsible-section {
            background: #f8f9fa;
            border: 2px dashed #6c757d;
            border-radius: 8px;
            padding: 20px;
            margin-top: 40px;
        }
        .toggle-button {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 0 auto;
            transition: background-color 0.3s;
        }
        .toggle-button:hover {
            background: #5a6268;
        }
        .collapsible-content {
            display: none;
            margin-top: 20px;
        }
        
        /* Original styles for collapsible content */
        .country-link {
            display: block;
            margin: 10px 0;
            padding: 8px;
            text-decoration: none;
            color: #0066cc;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .country-link:hover {
            background-color: #f5f5f5;
            text-decoration: underline;
        }
        .country-code {
            font-weight: bold;
            display: inline-block;
            width: 30px;
        }
    </style>

</head>

<body>

<a href="https://read.amazon.com/application/library?action=open&asin=B0C1Y9RMLR&ref=dbs_t_r_khbodl" 
   target="_blank" 
   style="display: inline-block; padding: 10px 20px; background-color: #ff9900; color: white; text-decoration: none; border-radius: 5px;">
   Unowned book
</a>
  
  <br>
  https://read.amazon.co.jp/application/home?action=open&asin=B08DBH9KCY&fallbackToAppDownloadPage=true&ref_=dbs_t_r_kboadf
</br>
  
  <!-- With custom styling -->
<a href="https://read.amazon.co.jp/application/home?action=open&asin=B08DBH9KCY&fallbackToAppDownloadPage=true" 
   target="_blank" 
   style="color: #ff9900; text-decoration: none; font-weight: bold;">
   üìö Read on Kindle
</a>

<!-- As a button-style link -->
<a href="https://read.amazon.co.jp/application/home?action=open&asin=B08DBH9KCY&fallbackToAppDownloadPage=true" 
   target="_blank" 
   style="display: inline-block; padding: 10px 20px; background-color: #ff9900; color: white; text-decoration: none; border-radius: 5px;">
   Open in Kindle App
</a>
  
    <!-- NEW MARKETPLACE TESTING SECTION (TOP) -->
    <div class="marketplace-section">
        <h1>üåç App Store Redirect Testing (Play Store & App Store)</h1>
        <p style="text-align: center; color: #666; margin-bottom: 20px;">
            Test localized Play Store and App Store redirects with proper language parameters<br>
            <strong>Uses <code>window.location.replace()</code> with <code>hl</code> (language) + <code>gl</code> (country) parameters</strong>
        </p>
        
        <div class="marketplace-grid">
            <!-- United States -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá∫üá∏ United States</div>
                <div class="language-indicator">English interface</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('us')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('us')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=en&gl=US | iOS: /us/app/</div>
            </div>

            <!-- Canada -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá®üá¶ Canada</div>
                <div class="language-indicator">English interface</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('ca')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('ca')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=en&gl=CA | iOS: /ca/app/</div>
            </div>

            <!-- Japan -->
            <div class="marketplace-card">
                <div class="marketplace-title">üáØüáµ Japan</div>
                <div class="language-indicator">Japanese interface (Êó•Êú¨Ë™û)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('jp')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('jp')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=ja&gl=JP | iOS: /jp/app/</div>
            </div>

            <!-- United Kingdom -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá¨üáß United Kingdom</div>
                <div class="language-indicator">English interface</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('gb')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('gb')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=en&gl=GB | iOS: /gb/app/</div>
            </div>

            <!-- Australia -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá¶üá∫ Australia</div>
                <div class="language-indicator">English interface</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('au')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('au')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=en&gl=AU | iOS: /au/app/</div>
            </div>

            <!-- India -->
            <div class="marketplace-card">
                <div class="marketplace-title">üáÆüá≥ India</div>
                <div class="language-indicator">English interface</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('in')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('in')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=en&gl=IN | iOS: /in/app/</div>
            </div>

            <!-- Mexico -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá≤üáΩ Mexico</div>
                <div class="language-indicator">Spanish interface (Espa√±ol)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('mx')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('mx')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=es&gl=MX | iOS: /mx/app/</div>
            </div>

            <!-- Spain -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá™üá∏ Spain</div>
                <div class="language-indicator">Spanish interface (Espa√±ol)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('es')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('es')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=es&gl=ES | iOS: /es/app/</div>
            </div>

            <!-- Italy -->
            <div class="marketplace-card">
                <div class="marketplace-title">üáÆüáπ Italy</div>
                <div class="language-indicator">Italian interface (Italiano)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('it')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('it')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=it&gl=IT | iOS: /it/app/</div>
            </div>

            <!-- Brazil -->
            <div class="marketplace-card">
                <div class="marketplace-title">üáßüá∑ Brazil</div>
                <div class="language-indicator">Portuguese interface (Portugu√™s)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('br')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('br')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=pt&gl=BR | iOS: /br/app/</div>
            </div>

            <!-- Germany -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá©üá™ Germany</div>
                <div class="language-indicator">German interface (Deutsch)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('de')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('de')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=de&gl=DE | iOS: /de/app/</div>
            </div>

            <!-- Netherlands -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá≥üá± Netherlands</div>
                <div class="language-indicator">Dutch interface (Nederlands)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('nl')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('nl')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=nl&gl=NL | iOS: /nl/app/</div>
            </div>

            <!-- France -->
            <div class="marketplace-card">
                <div class="marketplace-title">üá´üá∑ France</div>
                <div class="language-indicator">French interface (Fran√ßais)</div>
                <div class="button-group">
                    <button class="store-button android-button" onclick="redirectToAndroid('fr')">
                        üì± Play Store
                    </button>
                    <button class="store-button ios-button" onclick="redirectToIOS('fr')">
                        üçé App Store
                    </button>
                </div>
                <div class="url-info">Android: hl=fr&gl=FR | iOS: /fr/app/</div>
            </div>
        </div>
    </div>

    <!-- COLLAPSIBLE SECTION FOR ORIGINAL CONTENT -->
    <div class="collapsible-section">
        <h2 style="text-align: center; color: #6c757d; margin-bottom: 15px;">üìÅ Original Universal Link Testing</h2>
        <p style="text-align: center; color: #6c757d; margin-bottom: 20px;">
            Your original testing tools: Universal links, Kindle deeplinks, and country navigation
        </p>
        <button class="toggle-button" onclick="toggleOriginalContent()" id="toggle-btn">
            üîΩ Show Original Testing Tools
        </button>
        
        <div class="collapsible-content" id="original-content">
            <h1>Universal Link Test</h1>

            <p>Click the button below to test your Universal Link:</p>

            <a href="https://read.amazon.com/application/library?action=open&asin=B0D7BF3DQP&ref=dbs_t_r_khbodl" style="
                display: inline-block;
                padding: 12px 24px;
                background-color: #007aff;
                color: white;
                border-radius: 6px;
                text-decoration: none;
                font-weight: bold;
                font-size: 18px;
            ">Kindle Home Deeplink</a>
            <br/><br/>
            <a href="https://read.amazon.com/application/library?action=open&asin=B0DTZ85WSS&sample=true" style="
                display: inline-block;
                padding: 12px 24px;
                background-color: #007aff;
                color: white;
                border-radius: 6px;
                text-decoration: none;
                font-weight: bold;
                font-size: 18px;
            ">Kindle Manga Sample Deeplink</a>
            <br/><br/>
            <a href="https://read.amazon.co.jp/application/library?action=open&asin=B078CR8XT9" style="
                display: inline-block;
                padding: 12px 24px;
                background-color: #007aff;
                color: white;
                border-radius: 6px;
                text-decoration: none;
                font-weight: bold;
                font-size: 18px;
            ">JP Kindle Manga Deeplink</a>
            <br/><br/>
            
            <p>
                JP Account: bsx-auto-kamino+0-1752862545206lY80@amazon.com<br/><br/>
                Password: !wj2zg71vfz3q64m
            </p>

            <h1>Amazon Kindle Links by Country (JavaScript Replace Navigation)</h1>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.com.au/kindle-dbs/kcpApp')">
                    <span class="country-code">AU</span> - amazon.com.au/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.com.br/kindle-dbs/kcpApp')">
                    <span class="country-code">BR</span> - amazon.com.br/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.ca/kindle-dbs/kcpApp')">
                    <span class="country-code">CA</span> - amazon.ca/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.de/kindle-dbs/kcpApp')">
                    <span class="country-code">DE</span> - amazon.de/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.es/kindle-dbs/kcpApp')">
                    <span class="country-code">ES</span> - amazon.es/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.fr/kindle-dbs/kcpApp')">
                    <span class="country-code">FR</span> - amazon.fr/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.co.uk/kindle-dbs/kcpApp')">
                    <span class="country-code">GB</span> - amazon.co.uk/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.in/kindle-dbs/kcpApp')">
                    <span class="country-code">IN</span> - amazon.in/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.it/kindle-dbs/kcpApp')">
                    <span class="country-code">IT</span> - amazon.it/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.co.jp/kindle-dbs/kcpApp')">
                    <span class="country-code">JP</span> - amazon.co.jp/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.com.mx/kindle-dbs/kcpApp')">
                    <span class="country-code">MX</span> - amazon.com.mx/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.nl/kindle-dbs/kcpApp')">
                    <span class="country-code">NL</span> - amazon.nl/kindle-dbs/kcpApp
                </a>
                
                <a href="#" class="country-link" onclick="navigateToKindle('https://amazon.com/kindle-dbs/kcpApp')">
                    <span class="country-code">US</span> - amazon.com/kindle-dbs/kcpApp
                </a>

            <h1>Amazon Kindle Links by Country</h1>
                
                <a href="https://amazon.com.au/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">AU</span> - amazon.com.au/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.com.br/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">BR</span> - amazon.com.br/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.ca/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">CA</span> - amazon.ca/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.de/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">DE</span> - amazon.de/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.es/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">ES</span> - amazon.es/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.fr/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">FR</span> - amazon.fr/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.co.uk/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">GB</span> - amazon.co.uk/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.in/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">IN</span> - amazon.in/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.it/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">IT</span> - amazon.it/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.co.jp/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">JP</span> - amazon.co.jp/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.com.mx/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">MX</span> - amazon.com.mx/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.nl/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">NL</span> - amazon.nl/kindle-dbs/kcpApp
                </a>
                
                <a href="https://amazon.com/kindle-dbs/kcpApp" class="country-link" target="_blank">
                    <span class="country-code">US</span> - amazon.com/kindle-dbs/kcpApp
                </a>
        </div>
    </div>
  
  <script>
    // NEW MARKETPLACE REDIRECT FUNCTIONS
    // Marketplace locale mappings (same as in redirect.js)
    const localeMap = {
        'us': { hl: 'en', gl: 'US' },
        'ca': { hl: 'en', gl: 'CA' },
        'jp': { hl: 'ja', gl: 'JP' },
        'gb': { hl: 'en', gl: 'GB' },
        'au': { hl: 'en', gl: 'AU' },
        'in': { hl: 'en', gl: 'IN' },
        'mx': { hl: 'es', gl: 'MX' },
        'es': { hl: 'es', gl: 'ES' },
        'it': { hl: 'it', gl: 'IT' },
        'br': { hl: 'pt', gl: 'BR' },
        'de': { hl: 'de', gl: 'DE' },
        'nl': { hl: 'nl', gl: 'NL' },
        'fr': { hl: 'fr', gl: 'FR' }
    };

    const countryMap = {
        'us': 'us', 'ca': 'ca', 'jp': 'jp', 'gb': 'gb', 'au': 'au', 'in': 'in',
        'mx': 'mx', 'es': 'es', 'it': 'it', 'br': 'br', 'de': 'de', 'nl': 'nl', 'fr': 'fr'
    };

    // Android Play Store redirect function
    function redirectToAndroid(marketplace) {
        const baseUrl = 'https://play.google.com/store/apps/details?id=com.amazon.kindle';
        const locale = localeMap[marketplace] || localeMap['us'];
        const url = baseUrl + '&hl=' + locale.hl + '&gl=' + locale.gl;
        
        console.log('Redirecting to Android Play Store:', url);
        window.location.replace(url);
    }

    // iOS App Store redirect function
    function redirectToIOS(marketplace) {
        const baseUrl = 'https://apps.apple.com/';
        const appPath = '/app/amazon-kindle/id302584613';
        const country = countryMap[marketplace] || 'us';
        const url = baseUrl + country + appPath;
        
        console.log('Redirecting to iOS App Store:', url);
        window.location.replace(url);
    }

    // ORIGINAL FUNCTIONS
    function navigateToKindle(url) {
        window.location.replace(url);
    }

    // Toggle function for collapsible content
    function toggleOriginalContent() {
        const content = document.getElementById('original-content');
        const button = document.getElementById('toggle-btn');
        
        if (content.style.display === 'none' || content.style.display === '') {
            content.style.display = 'block';
            button.textContent = 'üîº Hide Original Testing Tools';
        } else {
            content.style.display = 'none';
            button.textContent = 'üîΩ Show Original Testing Tools';
        }
    }

  </script>

</body>

</html>
